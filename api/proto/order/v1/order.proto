syntax = "proto3";

package order.v1;

import "google/protobuf/timestamp.proto";

enum DeliveryType {
    DELIVERY_TYPE_UNSPECIFIED = 0;
    DELIVERY_TYPE_DELIVERY = 1;
    DELIVERY_TYPE_PICKUP = 2;
}

enum Status {
    STATUS_UNSPECIFIED = 0;
    STATUS_PENDING = 1;
    STATUS_CONFIRMED = 2;
    STATUS_CANCELLED = 3;
}

message Item {
    string id = 1;
    int32 quantity = 2;
    string comment = 3;
}

message Delivery {
    DeliveryType type = 1;
    string address = 2;
    string comment = 3;
}

message PlaceOrderRequest {
    string user_id = 1;
    string restaurant_id = 2;
    repeated Item items = 3;
    Delivery delivery = 4;    
}

message PlaceOrderResponse {
    string order_id = 1;
    Status status = 2;
    google.protobuf.Timestamp created_at = 3;
}

service OrderService {
    rpc PlaceOrder(PlaceOrderRequest) returns (PlaceOrderResponse);
}
